(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{11:function(t,e,n){t.exports={"pagination-list":"Pagination_pagination-list__2-Lsw","pagination-list__link":"Pagination_pagination-list__link__3jh-h"}},16:function(t,e,n){t.exports={form:"FilterByTitle_form__3r0PF",form__field:"FilterByTitle_form__field__EUYw-"}},18:function(t,e,n){t.exports={container:"Container_container__2MQv2"}},19:function(t,e,n){t.exports={button:"Button_button__2MIOw"}},22:function(t,e,n){t.exports={"create-view-link":"MainView_create-view-link__39UQf"}},23:function(t,e,n){t.exports={grid:"Grid_grid__9YPYf"}},28:function(t,e,n){},39:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),a=n(17),i=n.n(a),o=n(7),s=(n(28),n(4)),u=n.n(s),j=n(8),l=n(3),b=n(2),p="http://localhost:3000",d=function(){var t=Object(j.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(p,"/products"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(j.a)(u.a.mark((function t(e){var n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(p,"/products"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 2:return n=t.sent,t.next=5,n.json();case 5:if(c=t.sent,n.ok){t.next=8;break}throw new Error(c.message||"Could not add the product");case 8:return t.abrupt("return",null);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(j.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(p,"/products/").concat(e),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),h=function(){var t=Object(j.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(p,"/products/").concat(e),{method:"DELETE"});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=n(18),_=n.n(x),m=n(0),v=function(t){return Object(m.jsx)("div",{className:_.a.container,children:t.children})},g=n(19),w=n.n(g),y=function(t){var e=t.type,n=t.content,c=t.onClick;return Object(m.jsx)("button",{type:"submit"===e?"submit":"button",className:w.a.button,onClick:c,children:n})},C=function(){var t=Object(c.useState)(""),e=Object(l.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(0),i=Object(l.a)(a,2),o=i[0],s=i[1],u=Object(c.useState)(""),j=Object(l.a)(u,2),p=j[0],d=j[1],f=Object(c.useState)(!1),h=Object(l.a)(f,2),x=h[0],_=h[1],v=Object(b.h)();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.a,{when:x,message:function(){return"Are you sure you want to leave? All your entered data will be lost."}}),Object(m.jsx)("h1",{children:"Create View"}),Object(m.jsxs)("form",{action:"#",onSubmit:function(t){t.preventDefault(),O({title:n,price:o,description:p}),v.push("/main_view")},onFocus:function(){_(!0)},children:[Object(m.jsx)("input",{type:"text",value:n,onChange:function(t){r(t.target.value)}}),Object(m.jsx)("input",{type:"text",value:o,onChange:function(t){s(+t.target.value)}}),Object(m.jsx)("input",{type:"text",value:p,onChange:function(t){d(t.target.value)}}),Object(m.jsx)(y,{type:"submit",content:"Create",onClick:function(){return _(!1)}})]})]})},k=n(22),S=n.n(k),N=n(9),F=n.n(N),P=function(t){var e=t.product;return Object(m.jsxs)("li",{className:F.a.card,children:[Object(m.jsx)("h2",{className:F.a.card__title,children:e.title}),Object(m.jsx)("p",{className:F.a["card__price-tag"],children:"$".concat(e.price)}),Object(m.jsx)("p",{className:F.a.card__description,children:e.description}),Object(m.jsxs)("form",{action:"",children:[Object(m.jsx)(o.b,{to:"/edit_view/".concat(e.id),className:F.a.card__link,children:Object(m.jsx)(y,{type:"button",content:"Edit"})}),Object(m.jsx)(y,{type:"submit",content:"Delete",onClick:function(){return t=e.id,void h(t);var t}}),Object(m.jsx)(y,{type:"button",content:"Add to cart"})]})]})},E=n(23),L=n.n(E),T=function(t){return Object(m.jsx)("div",{className:L.a.grid,children:t.children})},A=function(t){var e=t.products;return t.loadingStatus?Object(m.jsx)("p",{children:"Loading products..."}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("ul",{children:Object(m.jsx)(T,{children:e.map((function(t){return Object(m.jsx)(P,{product:t},t.id)}))})})})},D=n(11),M=n.n(D),I=function(t){for(var e=t.productsPerPage,n=t.productsNumber,c=t.onPaginationListItem,r=Math.ceil(n/e),a=[],i=1;i<=r;i++)a.push(i);return Object(m.jsx)("ul",{className:M.a["pagination-list"],children:a.map((function(t){return Object(m.jsx)("li",{className:M.a["pagination-list__item"],children:Object(m.jsx)("button",{type:"button",className:M.a["pagination-list__link"],onClick:function(){return c(t)},children:t})},t)}))})},J=n(16),B=n.n(J),V=function(t){var e=t.onFilter,n=Object(c.useState)(""),r=Object(l.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(!1),s=Object(l.a)(o,2),u=s[0],j=s[1];return Object(m.jsxs)("form",{className:B.a.form,onSubmit:function(t){t.preventDefault(),a&&(j(!0),e(a))},children:[u&&Object(m.jsx)(y,{type:"button",content:"Clear Filter",onClick:function(){i(""),e(""),j(!1)}}),Object(m.jsx)("input",{type:"text",value:a,onChange:function(t){i(t.target.value)},className:B.a.form__field,placeholder:"Enter the product title"}),Object(m.jsx)(y,{type:"submit",content:"Filter"})]})},U=function(){var t=Object(c.useState)([]),e=Object(l.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)([]),i=Object(l.a)(a,2),s=i[0],b=i[1],p=Object(c.useState)(!1),O=Object(l.a)(p,2),f=O[0],h=O[1],x=Object(c.useState)(1),_=Object(l.a)(x,2),v=_[0],g=_[1];Object(c.useEffect)((function(){Object(j.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),t.next=3,d();case 3:e=t.sent,h(!1),r(e),b(e);case 7:case"end":return t.stop()}}),t)})))()}),[n.length]);var w=10*v-10,C=10*v,k=s.slice(w,C);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.b,{to:"/create_view",className:S.a["create-view-link"],children:Object(m.jsx)(y,{type:"button",content:"Create View"})}),Object(m.jsx)(V,{onFilter:function(t){var e=n.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}));b(e),g(1)}}),Object(m.jsx)(A,{products:k,loadingStatus:f}),s.length>10&&Object(m.jsx)(I,{productsPerPage:10,productsNumber:s.length,onPaginationListItem:function(t){g(t)}})]})},Y=function(t){var e=t.product,n=Object(c.useState)(e.title),r=Object(l.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(e.price),s=Object(l.a)(o,2),u=s[0],j=s[1],p=Object(c.useState)(e.description),d=Object(l.a)(p,2),O=d[0],h=d[1],x=Object(c.useState)(!1),_=Object(l.a)(x,2),v=_[0],g=_[1],w=Object(b.h)();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.a,{when:v,message:function(){return"Are you sure you want to leave? All your entered data will be lost."}}),Object(m.jsx)("h1",{children:"Create View"}),Object(m.jsxs)("form",{action:"#",onSubmit:function(t){t.preventDefault(),f(e.id,{title:a,price:u,description:O}),w.push("/main_view")},onFocus:function(){g(!0)},children:[Object(m.jsx)("input",{type:"text",value:a,onChange:function(t){i(t.target.value)}}),Object(m.jsx)("input",{type:"text",value:u,onChange:function(t){j(+t.target.value)}}),Object(m.jsx)("input",{type:"text",value:O,onChange:function(t){h(t.target.value)}}),Object(m.jsx)(y,{type:"submit",content:"Edit",onClick:function(){return g(!1)}})]})]})},Q=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{children:"Page not found..."}),Object(m.jsx)(o.b,{to:"/",children:Object(m.jsx)(y,{type:"button",content:"Home"})})]})},q=function(){var t=Object(c.useState)([]),e=Object(l.a)(t,2),n=e[0],r=e[1];return Object(c.useEffect)((function(){Object(j.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:e=t.sent,r(e);case 4:case"end":return t.stop()}}),t)})))()}),[n.length]),Object(m.jsx)(v,{children:Object(m.jsxs)(b.e,{children:[Object(m.jsx)(b.c,{path:"/",exact:!0,children:Object(m.jsx)(b.b,{to:"main_view"})}),Object(m.jsx)(b.c,{path:"/main_view",children:Object(m.jsx)(U,{})}),Object(m.jsx)(b.c,{path:"/create_view",children:Object(m.jsx)(C,{})}),n.map((function(t){return Object(m.jsx)(b.c,{path:"/edit_view/".concat(t.id),children:Object(m.jsx)(Y,{product:t})},t.id)})),Object(m.jsx)(b.c,{path:"*",children:Object(m.jsx)(Q,{})})]})})};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(o.a,{children:Object(m.jsx)(q,{})})}),document.getElementById("root"))},9:function(t,e,n){t.exports={card:"Card_card__gD9xj",card__link:"Card_card__link__2y7cP",card__title:"Card_card__title__1aMv_","card__price-tag":"Card_card__price-tag__3Ib7R",card__description:"Card_card__description__3JhAq"}}},[[39,1,2]]]);
//# sourceMappingURL=main.29811fbb.chunk.js.map